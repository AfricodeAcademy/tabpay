{% import 'admin/layout.html' as layout with context -%} {% import
'admin/static.html' as admin_static with context %}
<!DOCTYPE html>
<html>
  <head>
    <title>
      {% block title %}{% if admin_view.category %}{{ admin_view.category }} -
      {% endif %}{{ admin_view.name }} - {{ admin_view.admin.name }}{% endblock
      %}
    </title>
    {% block head_meta %}
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <meta name="csrf-token" content="{{ csrf_token }}" />

    {% endblock %} {% block head_css %}
    <link
      href="{{ admin_static.url(filename='bootstrap/bootstrap4/swatch/{swatch}/bootstrap.min.css'.format(swatch=config.get('FLASK_ADMIN_SWATCH', 'default')), v='4.2.1') }}"
      rel="stylesheet"
    />
    {% if config.get('FLASK_ADMIN_SWATCH', 'default') == 'default' %}
    <link
      href="{{ admin_static.url(filename='bootstrap/bootstrap4/css/bootstrap.min.css', v='4.2.1') }}"
      rel="stylesheet"
    />
    {% endif %}
    <link
      href="{{ admin_static.url(filename='admin/css/bootstrap4/admin.css', v='1.1.1') }}"
      rel="stylesheet"
    />
    <link
      href="{{ admin_static.url(filename='bootstrap/bootstrap4/css/font-awesome.min.css', v='4.7.0') }}"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../static/tabpay_css/dashboard.css" />

    {% if admin_view.extra_css %} {% for css_url in admin_view.extra_css %}
    <link href="{{ css_url }}" rel="stylesheet" />
    {% endfor %} {% endif %}
    <style>
      .hide {
        display: none;
      }
    </style>
    {% endblock %} {% block head %} {% endblock %} {% block head_tail %} {%
    endblock %}
  </head>
  <body>
    <!-- Mobile Header with Hamburger, Logo, and Log Out -->
    <!-- <div
      class="container-fluid d-lg-none mobile-header"
      style="background-color: whitesmoke"
    >
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="offcanvas"
        data-bs-target="#offcanvasSidebar"
        aria-controls="offcanvasSidebar"
      >
        <i class="bi bi-list hamburger"></i>
      </button>

      <div class="tabpay-logo text-center">
        <img
          src="{{url_for('static', filename='images/logo.png')}}"
          alt="TabPay Logo"
          class="logo"
        />
      </div>
      <a href="{{ url_for('main.home') }}" class="text-dark">
        <i
          class="bi bi-box-arrow-right"
          style="color: rgb(130, 124, 124); font-size: larger"
        ></i>
      </a>
    </div> -->

    <!-- Offcanvas Sidebar for small screens -->
    <!-- <div
      class="offcanvas offcanvas-start"
      tabindex="-1"
      id="offcanvasSidebar"
      aria-labelledby="offcanvasSidebarLabel"
      style="background-color: white"
    >
      <div class="offcanvas-header">
        <img
          src="{{url_for('static',filename='images/logo.png')}}"
          alt="TabPay Logo"
          style="width: 120px"
        />
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="offcanvas"
          aria-label="Close"
        ></button>
      </div>
      <div class="offcanvas-body">
        <a
          href="{{url_for('main.statistics')}}"
          style="background-color: {% if 'Dashboard' in title %}rgba(70, 162, 16, 0.873) {% endif %}; 
             border-radius: 5px; 
             color: white;"
        >
          <i class="bi bi-grid-fill"></i> Dashboard
        </a>

       
        </div>
      </div>
    </div> -->

    <div class="container-xxl">
      <div class="row">
        <div class="col-lg-2 d-flex -flex-column">
          <!-- Sidebar for larger screens -->
          <div class="glass-sidebar">
            <div class="tabpay-logo mb-3">
              <img
                src="{{url_for('static', filename='images/logo.png')}}"
                alt="TabPay Logo"
              />
            </div>
            <!-- Sidebar contents -->
            <div class="links mt-3">
              <a
                href="{{url_for('main.statistics')}}"
                style="background-color: {% if 'Dashboard' in title %} rgba(70, 162, 16, 0.873) {% endif %}; 
                     border-radius: 5px; 
                     color: white;"
              >
                <i class="bi bi-grid-fill"></i> Dashboard
              </a>
       
          {% block main_menu %}
              <ul class="nav navbar-nav mr-auto">
                  {{ layout.menu() }}
              </ul>
          {% endblock %}

              {% block menu_links %}
              <ul class="nav navbar-nav navbar-right">
                  {{ layout.menu_links() }}
              </ul>
              {% endblock %}
          {% block access_control %}
          {% endblock %}
          </div>
      </nav>

      {% block messages %}
          {{ layout.messages() }}
      {% endblock %}

      {# store the jinja2 context for form_rules rendering logic #}
      {% set render_ctx = h.resolve_ctx() %}
            </div>
          </div>
        </div>

        <div class="col-lg-10">
          <div class="header-profile-body mt-3">
            <div class="row d-flex justify-content-between">
              <div class="col-md-6 d-flex align-items-center">
                <h1 class="dashboard-h1 ms-2">
                  {% block heading %}{% endblock %}
                </h1>
              </div>
              <div class="col-md-4 d-none d-lg-block">
                <!-- Profile section -->
                <div class="profile-area">
                  <i class="bi bi-search me-2"></i>
                  <i class="bi bi-bell"></i>
                  {% if current_user.is_authenticated %}
                  <a href="#">
                    <img
                      src="{{ url_for('static', filename='images/' + current_user.image_file) }}"
                      alt="Profile Picture"
                  /></a>
                  {% else %}
                  <img
                    src="{{ url_for('static', filename='images/default.jpg') }}"
                    alt="Default Profile Picture"
                  />
                  {% endif %}

                  <span>{{current_user.full_name}}</span>
                  <div
                    class="dropdown mb-3"
                    style="border: none; position: relative"
                  >
                    <i
                      class="bi bi-chevron-down"
                      id="dropdownMenuButton"
                      data-bs-toggle="dropdown"
                      aria-expanded="false"
                    >
                      <!-- Icon and details that trigger the dropdown -->
                    </i>
                    <ul
                      class="dropdown-menu"
                      aria-labelledby="dropdownMenuButton"
                    >
                      <li>
                        <span class="dropdown-item text-success"
                          >{{current_user.email}}</span
                        >
                      </li>
                      <li>
                        <a
                          class="dropdown-item text-danger"
                          href="{{ url_for_security('logout') }}"
                        >
                          <i class="bi bi-box-arrow-right"></i> Log Out
                        </a>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div>{% block content %}{% endblock %}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer for small screens with Profile, Alerts, Search -->
    <div class="container-fluid d-lg-none mobile-footer">
      <i class="bi bi-bell"></i>
      <!-- Alert icon -->
      <div class="search-bar mt-2">
        <input type="text" class="form-control ps-4" placeholder="Search" />
      </div>
      {% if current_user.is_authenticated %}

      <a href="#">
        <img
          src="{{ url_for('static', filename='images/' + current_user.image_file) }}"
          alt="Profile Picture"
      /></a>
      {% else %}
      <img
        src="{{ url_for('static', filename='images/default.jpg') }}"
        alt="Default Profile Picture"
      />
      {% endif %}
    </div>
    {% block tail_js %}
    <script
      src="{{ admin_static.url(filename='vendor/jquery.min.js', v='2.1.4') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='bootstrap/bootstrap4/js/popper.min.js') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='bootstrap/bootstrap4/js/bootstrap.min.js', v='4.2.1') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='vendor/moment.min.js', v='2.9.0') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='vendor/bootstrap4/util.js', v='4.3.1') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='vendor/bootstrap4/dropdown.js', v='4.3.1') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='vendor/select2/select2.min.js', v='4.2.1') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='vendor/multi-level-dropdowns-bootstrap/bootstrap4-dropdown-ml-hack.js') }}"
      type="text/javascript"
    ></script>
    <script
      src="{{ admin_static.url(filename='admin/js/helpers.js', v='1.0.0') }}"
      type="text/javascript"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    {% if admin_view.extra_js %} {% for js_url in admin_view.extra_js %}
    <script src="{{ js_url }}" type="text/javascript"></script>
    {% endfor %} {% endif %} {% endblock %} {% block tail %} {% endblock %}
  </body>
</html>
